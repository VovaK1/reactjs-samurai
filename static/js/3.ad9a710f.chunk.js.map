{"version":3,"sources":["hoc/WithAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","onChange","e","currentTarget","updateStatus","autoFocus","onBlur","onDoubleClick","ProfileInfo","profile","className","classes","avatarBlock","alt","src","photos","large","Preloader","Post","item","message","likeCounter","likes","likeButton","AddPostForm","required","onSubmit","addPost","form","handleSubmit","validate","placeholder","name","component","Textarea","cols","rows","MyPosts","postsElements","posts","map","el","post","likesCount","key","postsBlock","values","newPostText","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","history","getProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.ad9a710f.chunk.js","sourcesContent":["import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth,\n})\n\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\n\n            return <Component {...this.props} />\n        }\n    }\n\n    const ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n    return ConnectedRedirectComponent;\n}\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarBlock\":\"ProfileInfo_avatarBlock__VhcZj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\",\"likeCounter\":\"Post_likeCounter__3DZmt\"};","import React from \"react\";\n\nclass ProfileStatus extends React.Component {\n    state = {\n        editMode: false,\n        status: this.props.status,\n    }\n\n     activateEditMode = () => {\n        this.setState({\n            editMode: true,\n        })\n    }\n\n    deactivateEditMode = () => {\n        this.setState({\n            editMode: false,\n        })\n        this.props.updateStatus(this.state.status);\n    }\n\n    onStatusChange = (e) => {\n        this.setState({\n            status: e.currentTarget.value,\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.status !== this.props.status) {\n            this.setState({\n                status: this.props.status,\n            })\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                {\n\n                    this.state.editMode ?\n                        <div>\n                            <input onChange={this.onStatusChange} autoFocus onBlur={this.deactivateEditMode} value={this.state.status}/>\n                        </div>\n                        :\n                        <div>\n                            <span onDoubleClick={this.activateEditMode}>{this.props.status || 'No status'}</span>\n                        </div>\n                }\n            </div>\n        )\n    }\n}\n\nexport default ProfileStatus;\n","import React, {useState} from \"react\";\n\nconst ProfileStatusHooks = (props) => {\n\n    const [editMode, setEditMode] = useState(false);\n    const [status, setStatus] = useState(props.status);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n        props.updateStatus(status);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n    }\n\n\n    return (\n            <div>\n                {\n\n                    editMode ?\n                        <div>\n                            <input onChange={onStatusChange} autoFocus onBlur={deactivateEditMode} value={status}/>\n                        </div>\n                        :\n                        <div>\n                            <span onDoubleClick={activateEditMode}>{status || 'No status'}</span>\n                        </div>\n                }\n            </div>\n        )\n}\n\nexport default ProfileStatusHooks;\n","import classes from \"./ProfileInfo.module.css\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatus from './ProfileStatus'\nimport ProfileStatusHooks from \"./ProfileStatusHooks\";\n\nconst ProfileInfo = (props) => {\n    if (!props.profile) {\n        return <Preloader />\n    }\n        return (\n            <div>\n                {/*<div className={classes.background}>*/}\n                {/*    <img alt=\"alt\"*/}\n                {/*         src=\"https://img.freepik.com/free-photo/hand-painted-watercolor-background-with-sky-and-clouds-shape_24972-1095.jpg?size=626&ext=jpg\"/>*/}\n                {/*</div>*/}\n                <div className={classes.avatarBlock}>\n                    <img alt=\"alt\"\n                         src={props.profile.photos.large || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTG6a6KfKK66Jy1eCuDau7yp2rb5dIfGvl45g&usqp=CAU\"}\n\n                    />\n                    <ProfileStatusHooks status={props.status} updateStatus={props.updateStatus} />\n                </div>\n            </div>\n        )\n}\n\nexport default ProfileInfo;\n","import classes from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return (\n    <div className={classes.item}>\n      <img\n        src=\"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png\"\n        alt=\"avatar\"\n      />\n      <span className={classes.message}>\n        {props.message}\n      </span>\n      <div>\n        <span className={classes.likeCounter}>{props.likes}</span>\n        <span className={classes.likeButton}>Like</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport classes from './MyPosts.module.css';\n\nimport Post from './Post/Post';\nimport {Form, Field} from \"react-final-form\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\n\n\nconst MyPosts = (props) => {\n\n    let postsElements = props.posts.map((el) => <Post message={el.post} key={el.key} likes={el.likesCount}/>)\n\n    const onAddPost = (values) => {\n        props.addPost(values.newPostText);\n    }\n\n    return (\n        <div className={classes.postsBlock}>\n            <h3>My posts</h3>\n            <div>\n                <AddPostForm addPost={onAddPost} />\n            </div>\n            <div className={classes.posts}>\n                {postsElements}\n            </div>\n        </div>\n    )\n};\n\nconst AddPostForm = (props) => {\n\n    const required = (value) => (value ? undefined : \"Required\");\n\n    return (\n        <Form onSubmit={props.addPost}>\n            {(form) => (\n                <form onSubmit={form.handleSubmit}>\n                    <div>\n                        <Field validate={required} placeholder='Post message' name='newPostText' component={Textarea} cols=\"30\" rows=\"10\" />\n                    </div>\n                    <div>\n                        <button>Add post</button>\n                    </div>\n                </form>\n            )}\n        </Form>\n    )\n}\n\nexport default MyPosts;\n","import React from \"react\";\nimport {addPostActionCreator} from \"../../../redux/reducers/profileReducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n    }\n}\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        }\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n    return (\n        <main>\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}  />\n            <MyPostsContainer />\n        </main>\n    )\n}\n\nexport default Profile;\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {getProfile, getStatus, updateStatus} from \"../../redux/reducers/profileReducer\";\nimport {Redirect, withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\nimport {compose} from \"redux\";\n\nclass ProfileContainer extends React.Component {\n\n    componentDidMount() {\n        let userId = this.props.match.params.userId || this.props.userId;\n        if (!userId) this.props.history.push(\"/login\");\n        this.props.getProfile(userId);\n        this.props.getStatus(userId);\n    }\n\n    render() {\n\n        if (!this.props.isAuth) return <Redirect to={'/login'} />\n\n        return (\n            <Profile {...this.props} />\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    userId: state.auth.userId,\n    isAuth: state.auth.isAuth,\n});\n\nexport default compose(\n    connect(mapStateToProps, {getProfile, updateStatus, getStatus}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer);\n"],"sourceRoot":""}