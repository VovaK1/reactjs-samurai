(this["webpackJsonp01-project"]=this["webpackJsonp01-project"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(50),c=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"20d2d5b3-2e05-4d00-acf0-22a25d247728"}}),i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))}},a={getProfile:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return c.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return c.put("profile/status",{status:e}).then((function(e){return e.data}))}},s={auth:function(){return c.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return c.delete("auth/login").then((function(e){return e.data}))}}},16:function(e,t,n){},25:function(e,t,n){"use strict";var r=n.p+"static/media/loading.4409bdfa.gif",c=(n(0),n(1));t.a=function(){return Object(c.jsx)("img",{src:r,width:150,height:100})}},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(2),c=n(29),i=(n(0),n(37)),a=n.n(i),s=n(1),o=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(s.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},u=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(s.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))},l=function(e){e.input;var t=e.meta,n=(e.child,Object(c.a)(e,["input","meta","child"])),r=t.error&&t.touched;return Object(s.jsxs)("div",{className:a.a.formControl+" "+a.a.error,children:[Object(s.jsx)("div",{children:Object(s.jsx)("div",{children:n.children})}),r&&Object(s.jsx)("span",{children:t.error})]})}},35:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}},37:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue"}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O}));var r=n(15),c=n(2),i=n(11),a="ADD_POST",s="SET_USER_PROFILE",o="SET_STATUS",u="DELETE_POST",l={posts:[{id:1,post:"Hi, how are you?",likesCount:15},{id:2,post:"It's my first post!",likesCount:20},{id:3,post:"One else about nothing!!!",likesCount:10}],profile:null,status:""},j=function(e){return{type:a,newPostText:e}},d=function(e){return{type:o,status:e}},b=function(e){return function(t){i.b.getProfile(e).then((function(e){t({type:s,userProfile:e})}))}},f=function(e){return function(t){i.b.getStatus(e).then((function(e){return t(d(e))}))}},O=function(e){return function(t){i.b.updateStatus(e).then((function(n){0===n.resultCode&&t(d(e))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n={id:4,post:t.newPostText,likesCount:0};return Object(c.a)(Object(c.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[n])});case s:return Object(c.a)(Object(c.a)({},e),{},{profile:t.userProfile});case o:return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case u:return Object(c.a)(Object(c.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}}},48:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(15),c=n(2),i="SEND_MESSAGE",a={dialogs:[{id:1,name:"John"},{id:2,name:"Jack"},{id:3,name:"Catherine"},{id:4,name:"Angelina"},{id:5,name:"Victor"},{id:6,name:"Anthony"},{id:7,name:"Sylvia"}],messages:[{id:1,message:"Hi"},{id:2,message:"Hello World!"},{id:3,message:"Yoo"},{id:4,message:"Lorem ipsum"},{id:5,message:"Smth else"}]},s=function(e){return{type:i,message:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=t.message;return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},49:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return g}));var r=n(15),c=n(2),i=n(11),a="FOLLOW",s="UNFOLLOW",o="SET_USERS",u="SET_CURRENT_PAGE",l="SET_TOTAL_USERS_COUNT",j="TOGGLE_IS_FETCHING",d="TOGGLE_FOLLOWING_IN_PROGRESS",b={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},f=function(e){return{type:u,page:e}},O=function(e){return{type:j,isFetching:e}},h=function(e,t){return{type:d,isFetching:e,id:t}},p=function(e,t){return function(n){n(O(!0)),i.c.getUsers(e,t).then((function(t){var r,c;n(O(!1)),n((r=t.items,{type:o,users:r})),n((c=t.totalCount,{type:l,totalCount:c})),n(f(e))}))}},m=function(e){return function(t){t(h(!0,e)),i.c.follow(e).then((function(n){0===n.resultCode&&t({type:a,userID:e}),t(h(!1,e))}))}},g=function(e){return function(t){t(h(!0,e)),i.c.unfollow(e).then((function(n){0===n.resultCode&&t({type:s,userID:e}),t(h(!1,e))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e}))});case s:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case o:return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case u:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.page});case l:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalCount});case j:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case d:return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(r.a)(e.followingInProgress),[t.id]):Object(r.a)(e.followingInProgress.filter((function(e){return e!==t.id})))});default:return e}}},57:function(e,t,n){},6:function(e,t,n){e.exports={nav:"Nav_nav__3gICw",item:"Nav_item__96rLj",active:"Nav_active__XSt-p"}},64:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(26),i=n.n(c),a=n(21),s=n(22),o=n(24),u=n(23),l=(n(57),n(4)),j=n(10),d=n(6),b=n.n(d),f=n(1),O=function(){return Object(f.jsx)("nav",{className:b.a.nav,children:Object(f.jsxs)("ul",{className:b.a.list,children:[Object(f.jsx)("li",{className:b.a.item,children:Object(f.jsx)(j.b,{to:"/profile",activeClassName:b.a.active,children:"Profile"})}),Object(f.jsx)("li",{className:b.a.item,children:Object(f.jsx)(j.b,{to:"/dialogs",activeClassName:b.a.active,children:"Messages"})}),Object(f.jsx)("li",{className:b.a.item,children:Object(f.jsx)(j.b,{to:"/users",activeClassName:b.a.active,children:"Users"})}),Object(f.jsx)("li",{className:b.a.item,children:Object(f.jsx)(j.b,{to:"/news",activeClassName:b.a.active,children:"News"})}),Object(f.jsx)("li",{className:b.a.item,children:Object(f.jsx)(j.b,{to:"/music",activeClassName:b.a.active,children:"Music"})}),Object(f.jsx)("li",{className:b.a.item,children:Object(f.jsx)(j.b,{to:"/settings",activeClassName:b.a.active,children:"Settings"})})]})})},h=(n(64),function(){return Object(f.jsx)("div",{children:"News"})});function p(){return Object(f.jsx)("div",{children:"Music"})}function m(){return Object(f.jsx)("div",{children:"Settings"})}var g=n(2),v=n(35),x=n.n(v),_=function(e){return Object(f.jsxs)("header",{className:x.a.header,children:[Object(f.jsx)("img",{alt:"logo",src:"https://banner2.cleanpng.com/20180517/ijw/kisspng-snapchat-logo-social-media-advertising-snap-inc-snapchat-5afe1fa255f2b4.4084826015266036823521.jpg"}),Object(f.jsx)("div",{className:x.a.loginBlock,children:e.isAuth?Object(f.jsxs)("div",{children:[e.login," - ",Object(f.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(f.jsx)(j.b,{to:"/login",children:"Login"})})]})},S=n(13),w=n(11),N="SET_USER_DATA",C={userId:null,email:null,login:null,isLoading:!1,isAuth:!1},y=function(e,t,n,r){return{type:N,payload:{userId:e,email:t,login:n,isAuth:r}}},E=function(){return function(e){return w.a.auth().then((function(t){if(0===t.resultCode){var n=t.data,r=n.id,c=n.login,i=n.email;e(y(r,i,c,!0))}}))}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(g.a)(Object(g.a)({},e),t.payload);default:return e}},P=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)(_,Object(g.a)({},this.props))}}]),n}(r.Component),T=Object(S.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){w.a.logout().then((function(t){0===t.resultCode&&e(y(null,null,null,!1))}))}}})(P),L=n(36),A=n.n(L),k=n(51),U=n(18),D=n(16),F=n.n(D),R=n(28),z=function(e){var t=function(e){return e?void 0:"Required"};return Object(f.jsx)(U.b,{onSubmit:e.onSubmit,children:function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{name:"email",component:R.a,placeholder:"Email",validate:t,children:function(e){var t=e.input,n=e.meta;e.placeholder;return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:F.a.label,children:"Login"}),Object(f.jsx)("input",Object(g.a)(Object(g.a)({},t),{},{className:F.a.input})),n.error&&n.touched&&Object(f.jsx)("span",{style:{color:"red"},children:n.error})]})}})}),Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{name:"password",component:R.a,placeholder:"Password",validate:t,children:function(e){var t=e.input,n=e.meta;e.placeholder;return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:F.a.label,children:"Password"}),Object(f.jsx)("input",Object(g.a)(Object(g.a)({},t),{},{className:F.a.input})),n.error&&n.touched&&Object(f.jsx)("span",{style:{color:"red"},children:n.error})]})}})}),Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{name:"rememberMe",component:R.a,type:"checkbox",children:function(e){var t=e.input;e.meta;return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:F.a.label,children:"Remember me"}),Object(f.jsx)("input",Object(g.a)(Object(g.a)({},t),{},{className:F.a.input}))]})}})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Login"})})]})}})},G=Object(S.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(r){w.a.login(e,t,n).then((function(e){console.log(e),0===e.resultCode&&r(E())}))}}})((function(e){var t=function(){var t=Object(k.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.login(n.email,n.password,n.rememberMe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e.isAuth?Object(f.jsx)(l.a,{to:"/profile"}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Login"}),Object(f.jsx)(z,{onSubmit:t})]})})),M=n(14),H="INITIALIZED_SUCCESS",W={initialized:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},J=n(25),V=n(38),X=n(48),K={},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return e},q=n(49),Z=n(52),Q=Object(M.b)({profilePage:V.b,dialogsPage:X.a,sidebar:Y,usersPage:q.a,auth:I,app:B}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.c,ee=Object(M.d)(Q,$(Object(M.a)(Z.a)));window.store=ee;var te=ee;var ne=function(e){return function(t){return Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(J.a,{}),children:Object(f.jsx)(e,Object(g.a)({},t))})}},re=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,98))})),ce=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,96))})),ie=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,97))})),ae=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(T,{}),Object(f.jsx)(O,{}),Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)(l.b,{path:"/dialogs",render:ne(re)}),Object(f.jsx)(l.b,{path:"/profile/:userId?",render:ne(ce)}),Object(f.jsx)(l.b,{path:"/users",render:ne(ie)}),Object(f.jsx)(l.b,{path:"/news",component:h}),Object(f.jsx)(l.b,{path:"/music",component:p}),Object(f.jsx)(l.b,{path:"/settings",render:function(){return Object(f.jsx)(m,{})}}),Object(f.jsx)(l.b,{path:"/login",render:function(){return Object(f.jsx)(G,{})}})]})]}):Object(f.jsx)(J.a,{})}}]),n}(r.Component),se=Object(M.c)(l.f,Object(S.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(E()).then((function(){e({type:H})}))}}}))(ae),oe=function(e){return Object(f.jsx)(j.a,{basename:"/reactjs-samurai",children:Object(f.jsx)(S.a,{store:te,children:Object(f.jsx)(se,{})})})};n(85);i.a.render(Object(f.jsx)(oe,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.1f67b51f.chunk.js.map